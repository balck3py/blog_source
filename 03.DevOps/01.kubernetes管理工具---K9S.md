---
title: Kubernetes管理工具 - K9S
date: 2025-12-15
author: Eugen
tags:
  - Kubernetes
  - K9S
  - DevOps
  - 容器管理
  - 运维工具
  - kubectl
---
### 基础安装与使用

本篇文章以windows为例，linux和mac操作方式大体相同
1. 下载k9s工具：直接去github的release页面下载最新的对应操作系统的可执行文件：[Releases · derailed/k9s](https://github.com/derailed/k9s/releases)  
	如图，win可以下载这个版本：
	![[Pasted image 20251215095419.png]]
2. 下载下来后，放到统一的运维目录下，最终把运维目录添加到系统环境变量PATH下，也可以简单点直接放到`C:\Windows`目录下（不推荐，但简单有效）
3. 获取kubeconf.yaml文件，如果是企业内集群，可以找运维获取，如果是云服务器，一般都有下载方式，以阿里云为例，获取路径(复制后保存到yaml中，路径随意)：
> ACK \ Clusters \ Cluster:{ClusterName} \ Connection Information(Tab) \ Obtain Long-term Kubeconfig \ Publis Access

参考截图：
![[Pasted image 20251217114410.png]]

4. 测试命令是否生效（记得替换{}内的内容为真实路径和名字）：
```bash
k9s --kubeconfig {kubeconfig-path}\{kubeconfig-file-name}.yaml -A
```
1. 如果能进入到UI界面，并且可以列举出资源，则代表成功

### k9s使用技巧（所有操作都要确保是英文法状态，中文会不响应）
* 看懂面板
![[Pasted image 20251217121728.png]]
* 切换资源
	输入英文状态下的“:”可以进入切换资源的模式，如当前是pods列表，输入“:”后，输入svc即可快速切换到services资源列表，目前kubectl能list出的资源，k9s均可以查看和管理    ![[Pasted image 20251217140641.png]]![[Pasted image 20251217140747.png]]
* 搜索服务
	输入英文状态下的“/”可以快速检索资源，当前默认list出的是所有资源，如果想过滤特定name的资源，可以使用此模式，支持模糊匹配（匹配后，需要回车才可以继续选中资源）  ![[Pasted image 20251217140858.png]]
* 其他快捷键可以自行检索，如选中pod后，回车，可以浏览pod下的containers，选中containers后，s可以进入容器shell、l可以查看container日志，继续回车可以查看控制台输出，在hpa、deployments等资源下，e可以直接编辑资源yaml文件，d可以快速查看资源的describe描述，在pod启动失败的时候排查问题很好用等等
### windows系统下的扩展使用（可选）
* 推荐下载安装跨平台版powershell：[Releases · PowerShell/PowerShell](https://github.com/PowerShell/PowerShell/releases)
* 下载安装全托管终端terminal：[Releases · microsoft/terminal](https://github.com/microsoft/terminal/releases)
* 创建powershell默认配置文件，并查看创建后的所在路径：
```bash
New-Item -Path $PROFILE -ItemType File -Force

echo $PROFILE
```
* 编辑配置文件，加入以下命令（k9s-prod可以随意改成喜欢的别名）（记得替换{}内的内容为真实路径和名字）：
```text
function k9s-prod { k9s --kubeconfig {kubeconfig-path}\{kubeconfig-file-name}.yaml -A }
```
完成以上步骤后，就可以在全新终端中任意目录输入k9s-prod，快速管理集群资源，如图：
![[Pasted image 20251217120216.png]]
![[Pasted image 20251217120518.png]]